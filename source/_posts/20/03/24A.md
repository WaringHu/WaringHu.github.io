---
title: Java 类与对象【Java 学习笔记 09】
date: 2020-03-24 14:34:08
tags:
    - Java
    - 学习笔记
categories: Java 学习笔记
cover: false
---

Java 语言最大的特点在于面向对象的编程设计，并且面向对象的编程设计也在由于 Java 自身的发展而不断发展，同时很多最初不支持面向对象的编程语言都开始转向了面向对象编程，但也有人认为面向过程编程会更好，或者是使用函数式编程会更好

<!-- more -->

# 面向对象简介

最早出现并且流行至今的编程语言主要有 C、C++、Java，其中 C 语言已经成为了面向过程开发的代表，C++ 和 Java 都是面向对象的编程语言

所谓的面向过程指的是面对一个问题的解决方案，更多情况下是不会做出重用的设计思考，而面向对象的主要设计思想就是模块化设计，并且可以重用配置，在整个面向对象的设计里面，更多的情况下考虑的是标准，在使用的时候根据标准进行拼装

面向对象还有三个主要特征：

- 封装性：内部的操作对外部不可见，当内部的操作都不可直接使用的时候才是最安全的
- 继承性：在已有结构的基础上继续进行功能的扩充
- 多态性：是在继承性的基础上扩充的概念，指的是类型的转换处理

在进行面向对象开发时还有三个步骤：

- OOA：面向对象分析
- OOD：面向对象设计
- OOP：面向对象编程

# 类与对象简介

面向对象的核心就是类与对象，类是对某一类事物的共性的抽象概念，而对象描述的是一个具体的产物，对象与对象之间不同的是对象各自的属性，每一个属性的集合就构成了对象，但是所有的属性都是群体的定义，而群体的定义就形成了一个类

类是一个模板，而对象就是类可以使用的实例，先定义类才可以定义对象，但是类不能直接使用，对象可以直接使用，在类之中一般都会有两个组成：

- 成员属性（Field）：也可以称为属性
- 成员行为（Method）：定义对象具有的处理行为

# 类与对象的定义和使用

在 Java 中类是一个独立的结构体，所以需要使用 class 来进行定义，而在类之中主要由属性和方法组成，属性就是一个个具体的变量，而方法就是可以重复执行的代码

eg. 定义一个类

```java
class Person {
    String name;
    int age;
    public void talk() {
        System.out.println("我是" + name + "，我今年" + age + "岁了！");
    }
}
```

现在已经定义了一个类了，其中包含两个属性和一个方法，如果要使用这个类，必须通过对象来完成，而如果要产生对象，就必须使用如下代码格式：（对象必须经过实例化之后才能使用）

- 声明并实例化对象：类名称 对象名称 = new 类名称();
- 分步完成：
  - 声明对象：类名称 对象名称 = null;
  - 实例化对象：对象名称 = new 类名称();

当获取了实例化对象之后，那么就需要通过对象进行类中的操作调用，有两种调用方式：

- 调用类中的属性：实例化对象.成员属性;
- 调用类中的方法：实例化对象.方法名称();

eg. 使用对象操作类

```java
class Person {
    String name;
    int age;
    public void talk() {
        System.out.println("I am " + name + ", I'm " + age + " years old");
    }
}

public class JavaDemo {
    public static void main(String[] args) {
        Person per = new Person(); // 声明并实例化对象
        per.name = "Kiring";
        per.age = 20;
        per.talk();
    }
}
```

如果此时的程序没有进行对象属性内容的设置，则该数据内容为其数据类型对应的默认值

# 对象内存分析

Java 之中类属于引用数据类型，引用数据类型最大的困难在于要进行内存的管理，同时进行操作的时候也会发生内存关系的变化，所以要掌握程序内存关系的简单分析

如果要进行内存分析，首先先给出两块最为常用的内存空间：

- 堆内存：保存的是对象的具体信息，在程序之中，堆内存空间的开辟是通过 new 完成的
- 栈内存：保存的是一块堆内存的地址，即：通过地址找到堆内存，进而找到对象内容，但是有时候为了简化分析，可以简单的理解为：对象名称保存在栈内存之中

# 对象引用分析

类本身属于引用数据类型，会涉及到内存的引用传递，引用传递的本质就是：同一块堆内存空间可以被不同的栈内存所指向，也可以更换指向

```java
public class JavaDemo {
    public static void main(String[] args) {
        Person per1 = new Person(); // 声明并实例化对象
        per1.name = "Kiring";
        per1.age = 20;
        Person per2 = per1; // 引用传递
        per2.age = 30;
        per1.talk();
    }
}
```

这个时候的引用传递是直接在主方法之中定义的，也可以通过方法实现引用传递，这个时候一定要观察方法的参数类型，同时也要观察方法的执行过程，如下：程序是将 Person 类的实例化对象（内存地址-数值）传递到了 change() 方法之中，由于传递的是一个 Person 类型，那么 change() 方法接收的也是 Person 类型

```java
public class JavaDemo {
    public static void main(String[] args) {
        Person per = new Person(); // 声明并实例化对象
        per.name = "Kiring";
        per.age = 20;
        change(per); // Person temp per
        per.talk();
    }
    public static void change(Person temp) {
        temp.age = 80;
    }
}
```

# 引用与垃圾产生分析

引用传递如果处理不当，会造成垃圾的产生，所谓的垃圾空间就是没有任何栈内存所指向的堆内存空间，所有的垃圾将被 GC（Garbage Collector）不定期进行回收并且释放无用内存空间，但是如果垃圾过多，一定会影响 GC 的处理性能，从而降低整体的程序性能，所以在实际的开发之中，对于垃圾的产生应该越少越好

一个栈内存只能保存一个堆内存的地址数据，如果发生更改，则之前的地址数据将从此栈内存中彻底消失