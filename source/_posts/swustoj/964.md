---
title: "#964 数细胞"
date: 2019-04-24 21:35:35
tags:
- "SWUST"
- "OJ"
categories: "SWUSTOJ 题解系列"
---

# 题目

一矩形阵列由数字0到9组成，数字1到9代表细胞,细胞的定义为沿细胞数字上下左右还是细胞数字则为同一细胞,求给定矩形阵列的细胞个数。编程需要用到的队列及其相关函数已经实现，你只需要完成count函数以及主函数即可。

<!-- more -->

```cpp
#include<iostream>
#include<cstdlib>
using namespace std;
#define max 50000

struct pos {
	int x;
	int y;
};

typedef struct se
{
	pos data[max];
	int front,rear;
} Sequeue;

void init(Sequeue *&Q)
{
	Q=(Sequeue *)malloc(sizeof(Sequeue));
	Q->front=-1;
	Q->rear=-1;
}

int empty(Sequeue *Q)
{
	if(Q->rear==Q->front)
		return 1;
	else
		return 0;
}

void insertsequeue(Sequeue *&Q,int i,int j)
{
	if((Q->rear+1)%max==Q->front)
	{
		cout<<"队列已满！"<<endl;
		exit(0);
	}
	Q->rear=(Q->rear+1)%max;
	Q->data[Q->rear].x=i;
	Q->data[Q->rear].y=j;
}

void delsequeue(Sequeue *&Q,int &i,int &j)
{
	if(Q->rear==Q->front)
	{
		cout<<"队列已空！"<<endl;
		exit(0);
	}
	Q->front=(Q->front+1)%max;
	i=Q->data[Q->front].x;
	j=Q->data[Q->front].y;
}
int count(int a[50][50],int m,int n)
{
}

void main()
{
	int test[50][50];
	int i,j, m,n;
	cin>>m;
	cin>>n;
	for(i=0; i<m; i++)
		for(j=0; j<n; j++)
			cin>>test[i][j];
	change(test,m,n);
	cout<<count(test,m,n)<<endl;
}
```

## 输入

> 第一行输入两个整数，分别代表矩阵的行和列 输入m*n的矩阵，由数字0到9组成。

## 输出

> 细胞个数。

## 样例输入

> 4 10
> 1 2 3 4 5 1 1 1 6 7 
> 1 0 3 4 5 6 1 5 1 0
> 2 0 4 5 6 6 1 6 7 1
> 0 0 6 0 6 6 1 0 8 9

## 样例输出

> 1

# 源代码

```cpp
#include<iostream>
#include<queue>

using namespace std;

int m, n;
int find(int i, int j, int arr[100][100], queue<int> &Q)
{
	if ((i + 1  < m ? arr[i + 1][j] : 0) != 0)
	{
		arr[i + 1][j] = 0;
		find(i + 1, j, arr, Q);
	}
	if ((i-1 >= 0 ? arr[i -1][j] : 0) != 0)
	{
		arr[i-1][j] = 0;
		find(i - 1, j, arr, Q);
	}
	if ((j+1< n ? arr[i][j+1] : 0) != 0)
	{
		arr[i][j+1] = 0;
		find(i , j+1, arr, Q);
	}
	if ((j-1>=0 ? arr[i][j-1] : 0) != 0)
	{
		arr[i][j-1] = 0;
		find(i, j-1, arr, Q);
	}
	if (((j - 1 >= 0 ? arr[i][j - 1] : 0) == 0) && ((i + 1 < m ? arr[i + 1][j] : 0) == 0) && ((j + 1 < n ? arr[i][j + 1] : 0) == 0) && ((i - 1 >= 0 ? arr[i - 1][j] : 0) == 0))
		return 0;
}
int main()
{
	int count = 0;
	queue<int> Q;
	int arr[100][100];
	cin >> m;
	cin >> n;
	for (int i = 0; i < m; i++)
	{
		for (int j = 0; j < n; j++)
		{
			cin >> arr[i][j];
		}
	}
	for (int i = 0; i < m; i++)
	{
		for (int j = 0; j < n; j++)
		{
			if (arr[i][j] != 0)
			{
				arr[i][j] = 0;
				find(i, j, arr, Q);
				count++;
			}
		}
	}
	cout << count;
	return 0;
}
```
